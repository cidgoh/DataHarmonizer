<div>
  <div class="btn-group" role="group">
    <div class="btn-group" id="file-dropdown-btn-group" role="group">
      <button
        class="btn btn-primary dropdown-toggle"
        type="button"
        data-toggle="dropdown"
        aria-haspopup="true"
        aria-expanded="false"
        id="file-menu-button"
        data-i18n="file-menu-button"
      >
        File
      </button>
      <div class="dropdown-menu">
        <span
          class="dropdown-item"
          data-toggle="modal"
          data-target="#select-template-modal"
          id="select-template-modal-button"
          data-i18n="select-template-modal-button"
          >Select Template</span
        >
        <label
          for="upload-template-input"
          class="dropdown-item mb-0"
          id="upload-template-dropdown-item"
          data-i18n="upload-template-dropdown-item"
          >Upload Template</label
        >
        <input
          type="file"
          accept=".json"
          class="form-control-file"
          id="upload-template-input"
        />
        <span
          class="dropdown-item"
          id="new-dropdown-item"
          data-i18n="new-dropdown-item"
          >New</span
        >
        <label
          for="open-file-input"
          class="dropdown-item mb-0"
          id="open-dropdown-item"
          data-i18n="open-dropdown-item"
          >Open</label
        >
        <input
          type="file"
          accept=".xlsx,.xls,.tsv,.csv,.json"
          class="form-control-file"
          id="open-file-input"
          data-i18n="open-file-input"
        />
        <span
          class="dropdown-item"
          data-toggle="modal"
          id="save-as-dropdown-item"
          data-i18n="save-as-dropdown-item"
          >Save As...</span
        >
        <span
          class="dropdown-item"
          data-toggle="modal"
          id="export-to-dropdown-item"
          data-i18n="export-to-dropdown-item"
          >Export To...</span
        >
        <!-- span class="dropdown-item" data-toggle="modal" id="export-to-dropdown-item" data-target="#export-to-modal">Export To...</span -->
      </div>
    </div>
    <div class="btn-group" id="settings-dropdown-btn-group" role="group">
      <button
        class="btn btn-primary dropdown-toggle"
        type="button"
        data-toggle="dropdown"
        aria-haspopup="true"
        aria-expanded="false"
        id="settings-menu-button"
        data-i18n="settings-menu-button"
      >
        Settings
      </button>
      <div class="dropdown-menu">
        <span
          class="dropdown-item disabled"
          id="show-all-cols-dropdown-item"
          data-i18n="show-all-cols-dropdown-item"
          >Show all columns</span
        >
        <span
          class="dropdown-item"
          id="show-required-cols-dropdown-item"
          data-i18n="show-required-cols-dropdown-item"
          >Show required columns</span
        >
        <span
          class="dropdown-item"
          id="show-recommended-cols-dropdown-item"
          data-i18n="show-recommended-cols-dropdown-item"
          >Show required + recommended columns</span
        >
        <div style="padding: 0.25rem 1.5rem" id="show-section-menu">
          <span id="section-label" data-i18n="show-section-menu"
            >Show section:</span
          >
          <div id="section-menu"></div>
        </div>

        <span
          class="dropdown-item hidden-dropdown-item"
          id="show-all-rows-dropdown-item"
          data-i18n="show-all-rows-dropdown-item"
          >Show all rows</span
        >
        <span
          class="dropdown-item hidden-dropdown-item"
          id="show-valid-rows-dropdown-item"
          data-i18n="show-valid-rows-dropdown-item"
          >Show valid rows</span
        >
        <span
          class="dropdown-item hidden-dropdown-item"
          id="show-invalid-rows-dropdown-item"
          data-i18n="show-invalid-rows-dropdown-item"
          >Show invalid rows</span
        >

        <span
          class="dropdown-item"
          id="jump-to-dropdown-item"
          data-i18n="jump-to-dropdown-item"
          data-toggle="modal"
          data-target="#jump-to-modal"
          >Jump to...</span
        >
        <span
          class="dropdown-item"
          id="fill-dropdown-item"
          data-i18n="fill-dropdown-item"
          data-toggle="modal"
          data-target="#fill-modal"
          >Fill column...</span
        >

        <span class="dropdown-item disabled" id="version-dropdown-item"></span>
      </div>
    </div>
    <button
      type="button"
      class="btn btn-primary"
      id="validate-btn"
      data-i18n="validate-btn"
    >
      Validate
    </button>
  </div>

  <div class="btn-group d-none d-sm-inline" role="group">
    <button
      class="btn btn-info dropdown-toggle"
      type="button"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
      id="help-menu-button"
      data-i18n="help-menu-button"
    >
      Help
    </button>
    <div class="dropdown-menu">
      <span
        id="getting-started-modal-menu"
        class="dropdown-item"
        data-toggle="modal"
        data-target="#getting-started-modal"
        data-i18n="getting-started-modal-menu"
        >Getting Started</span
      >
      <a
        class="dropdown-item"
        target="Reference"
        href=""
        id="help_reference"
        data-i18n="help_reference"
        >Reference Guide</a
      >
      <a
        class="dropdown-item"
        target="_blank"
        href=""
        id="help_sop"
        data-i18n="help_sop"
        >SOP</a
      >
      <a
        class="dropdown-item"
        target="_blank"
        href="https://github.com/cidgoh/DataHarmonizer/releases"
        id="help_release"
        data-i18n="help_release"
        >Get Latest Release</a
      >
      <span
        class="dropdown-item"
        data-toggle="modal"
        data-target="#contact-us-modal"
        id="help_contact"
        data-i18n="help_contact"
        >Contact Us</span
      >
    </div>
  </div>

  <div class="btn-group" role="group" style="margin-right: 40px">
    <div class="input-group-prepend">
      <div class="btn" id="template_label" data-i18n="template_label">
        Template
      </div>
    </div>
    <div class="input-group-append">
      <div
        class="input-group-text"
        id="template_name_display"
        style="background-color: transparent; cursor: pointer"
        data-toggle="modal"
        data-target="#select-template-modal"
        data-i18n="template_name_display"
      ></div>
    </div>
  </div>

  <!-- TODO: replace with translation menu -->
  <!-- <div class="btn-group" role="group" style="margin-right: 40px">
    <div class="input-group-prepend">
      <div class="btn" id="language_label" data-i18n="language_label">
        Language
      </div>
    </div>
    <div class="input-group-append">
      <select class="form-control" id="select-language-localization"></select>
    </div>
  </div> -->

  <div class="btn-group" role="group" style="margin-right: 40px; display:none">
    <div class="input-group-prepend">
      <div class="btn" id="translation_label" data-i18n="translation_label">
        Language
      </div>
    </div>
    <div class="input-group-append">
      <select
        class="form-control"
        id="select-translation-localization"
      ></select>
    </div>
  </div>

  <div class="btn-group" role="group" style="margin-right: 40px">
    <div class="input-group-prepend">
      <div class="btn" id="loaded_file_label" data-i18n="loaded_file_label">
        Loaded file
      </div>
    </div>
    <div class="input-group-append">
      <div
        class="input-group-text"
        id="file_name_display"
        style="background-color: transparent"
      ></div>
    </div>
  </div>

  <div class="btn-group" role="group">
    <div class="input-group-append">
      <button
        class="btn btn-primary"
        id="next-error-button"
        data-i18n="next-error-button"
        type="submit"
      >
        Next Error
      </button>
      <div
        class="btn btn-primary"
        id="no-error-button"
        data-i18n="no-error-button"
        type="submit"
      >
        No Errors
      </div>
    </div>
  </div>

  <!-- Modals -->
  <div
    class="modal fade"
    id="select-template-modal"
    tabindex="-1"
    role="dialog"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span
                      class="input-group-text"
                      id="change-template"
                      data-i18n="change-template"
                      >Change Template</span
                    >
                  </div>
                  <select class="form-control" id="select-template"></select>
                  <div class="input-group-append">
                    <button
                      type="button"
                      class="btn btn-primary"
                      data-dismiss="modal"
                      id="select-template-load"
                      data-i18n="select-template-load"
                    >
                      Open
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row mt-3">
              <!--
              <div class="col d-flex d-flex">
                <input
                  type="checkbox"
                  id="view-template-drafts"
                  style="margin: 6px"
                />
                <label
                  for="#view-template-drafts"
                  id="view-template-draft-prompt"
                  data-i18n="view-template-draft-prompt"
                  >View draft templates</label
                >
              </div>
              -->
              <div class="col d-flex d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  id="change-template-cancel"
                  data-i18n="template-cancel"
                  data-dismiss="modal"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="clear-data-warning-modal"
    tabindex="-1"
    role="dialog"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col">
                <span
                  class="text-danger"
                  id="clear-data-prompt"
                  data-i18n="clear-data-prompt"
                  >Clear existing data?</span
                >
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-2 col-sm-6"></div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  data-i18n="template-cancel"
                >
                  Cancel
                </button>
              </div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-danger"
                  id="clear-data-confirm-btn"
                  data-i18n="clear-data-confirm-btn"
                  data-dismiss="modal"
                >
                  Clear
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="save-as-invalid-warning-modal"
    tabindex="-1"
    role="dialog"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div
                class="col text-danger"
                id="save-as-warning"
                data-i18n="save-as-warning"
              >
                You have invalid cells. Continue saving?
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-2 col-sm-6"></div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  data-i18n="template-cancel"
                >
                  Cancel
                </button>
              </div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-danger"
                  data-dismiss="modal"
                  data-toggle="modal"
                  data-target="#save-as-modal"
                  data-i18n="template-continue"
                >
                  Continue
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="save-as-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col text-danger" id="save-as-err-msg"></div>
            </div>
            <div class="row">
              <div class="col">
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control"
                    id="base-name-save-as-input"
                    placeholder="file name"
                  />
                  <div class="input-group-append">
                    <select class="form-control" id="file-ext-save-as-select">
                      <option value="xlsx" selected>.xlsx</option>
                      <option value="xls">.xls</option>
                      <option value="tsv">.tsv</option>
                      <option value="csv">.csv</option>
                      <option value="json">.json</option>
                    </select>
                  </div>
                  <!-- <div class="input-group-append">
                    <select
                      class="form-control"
                      id="lang-save-as-select"
                    ></select>
                  </div> -->
                </div>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-2 col-sm-6"></div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  data-i18n="template-cancel"
                >
                  Cancel
                </button>
              </div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-primary"
                  id="save-as-confirm-btn"
                  data-i18n="template-save"
                >
                  Save
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="export-to-invalid-warning-modal"
    tabindex="-1"
    role="dialog"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div
                class="col text-danger"
                id="export-to-invalid-warning"
                data-i18n="export-to-invalid-warning"
              >
                You have invalid cells. Continue exporting?
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-2 col-sm-6"></div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  data-i18n="template-cancel"
                >
                  Cancel
                </button>
              </div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-danger"
                  data-dismiss="modal"
                  data-toggle="modal"
                  data-target="#export-to-modal"
                  id="export-to-modal-btn"
                  data-i18n="template-continue"
                >
                  Continue
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="export-to-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col text-danger" id="export-to-err-msg"></div>
            </div>
            <div class="row">
              <div class="col-12 col-sm-8">
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control"
                    id="base-name-export-to-input"
                    placeholder="file name"
                  />
                  <div class="input-group-append">
                    <div class="input-group-text" id="export_file_suffix">
                      .xls
                    </div>
                  </div>
                </div>
              </div>
              <div class="col mt-2 mt-sm-0">
                <select class="form-control" id="export-to-format-select">
                  <option value="" disabled selected>Format</option>
                </select>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-2 col-sm-6"></div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  data-i18n="template-cancel"
                >
                  Cancel
                </button>
              </div>
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-primary"
                  id="export-to-confirm-btn"
                  data-i18n="export-to-confirm-btn"
                >
                  Export
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="open-error-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col text-danger" id="open-err-msg"></div>
            </div>
            <div class="row mt-3">
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  data-i18n="template-ok"
                >
                  Ok
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    class="modal fade"
    id="upload-template-error-modal"
    tabindex="-1"
    role="dialog"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col text-danger" id="upload-template-err-msg"></div>
            </div>
            <div class="row mt-3">
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  data-i18n="template-ok"
                >
                  Ok
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="jump-to-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col">
                <div>
                  <label
                    for="jump-to-input"
                    data-i18n="jump-to-input-prompt"
                    id="jump-to-input-prompt"
                    >Jump to...</label
                  >
                  <select id="jump-to-input" class="form-control"></select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="fill-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col-sm-6">
                <div>
                  <label
                    for="fill-column-input"
                    data-i18n="fill-column-input-prompt"
                    id="fill-column-input-prompt"
                    >Fill cells in column ...</label
                  >
                  <select id="fill-column-input" class="form-control"></select>
                </div>
              </div>
              <div class="col-sm-4">
                <div>
                  <label
                    for="fill-value-input"
                    id="fill-column-input-part2"
                    data-i18n="fill-column-input-part2"
                    >with value:</label
                  >
                  <input id="fill-value-input" class="form-control" />
                </div>
              </div>
              <div class="col-sm-1">
                <div>
                  <label>&nbsp;</label>
                  <button
                    type="button"
                    id="fill-button"
                    class="btn btn-secondary"
                    data-dismiss="modal"
                    data-i18n="template-ok"
                  >
                    Ok
                  </button>
                </div>
              </div>
            </div>
            <div class="row">
              <div>
                <br clear="both" />
                <p id="fill-column-help" data-i18n="fill-column-help">
                  Use this feature to populate all the cells of a column with
                  given value. This won't populate empty rows of the spreadsheet
                  (as occurs when pasting a value to a column's header cell).
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    class="modal fade"
    id="getting-started-modal"
    tabindex="-1"
    role="dialog"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <div class="container-fluid">
            <div class="row">
              <div class="col">
                <h5 id="template-help-title" data-i18n="template-help-title">
                  Are you ready to harmonize your contextual data?
                </h5>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col">
                <div id="getting-started-carousel-container"></div>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-dismiss="modal"
                  data-i18n="template-ok"
                >
                  Ok
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="contact-us-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col">
                <p
                  id="template-contact-blurb"
                  data-i18n="template-contact-blurb"
                ></p>
                <p
                  id="dataharmonizer-contact-blurb"
                  data-i18n="dataharmonizer-contact-blurb"
                >
                  If you have questions about the DataHarmonizer application, or
                  want to notify us of bugs or potential improvements, contact
                  us by either posting an issue at
                  https://github.com/Public-Health-Bioinformatics/DataHarmonizer/issues
                  or emailing us at emma_griffiths@sfu.ca
                </p>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col d-flex justify-content-end">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                  data-i18n="template-ok"
                >
                  Ok
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="missing-template-modal" role="dialog" style="display: none">
    <div class="modal-dialog" role="document">
      <div class="modal-content" style="z-index: 2000">
        <div class="modal-body">
          <div class="container-fluid">
            <div class="row">
              <div class="col text-danger" id="missing-template-msg"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
