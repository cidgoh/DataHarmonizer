id: https://example.com/DH_LinkML
name: DH_LinkML
description: "The DataHarmonizer template for editing a schema."
version: 1.0.0
in_language: 
- 'en'
imports:
- 'linkml:types'
prefixes:
  linkml: 'https://w3id.org/linkml/'
  ONTOLOGY: 'http://purl.obolibrary.org/obo/ONTOLOGY_'
classes:

  Schema:
    name: Schema
    description: The top-level description of a LinkML schema.  A schema contains classes for describing one or more DataHarmonizer templates, fields/columns, and picklists (which are themselves LinkML classes, slots, and enumerations)
    see_also: 
      - templates/schema_editor/SOP.pdf
    unique_keys:
      schema_key:
        description: A slot is uniquely identified by the schema it appears in as well as its name
        unique_key_slots:
        - id

  Prefix:
    name: Prefix
    description: A prefix used in the URIs mentioned in this schema.
    unique_keys:
      prefix_key:
        description: A slot is uniquely identified by the schema it appears in as well as its name
        unique_key_slots:
        - schema_id
        - prefix
        - reference

  Class:
    name: Class
    description: A class contained in given schema.  A class may be a top-level DataHarmonizer "template" that can be displayed in a spreadsheet tab, or it may be a subordinate 1-many class linked to a parent class by a primary key field.  
    unique_keys:
      class_key:
        description: A class is uniquely identified by the schema it appears in as well as its name.
        unique_key_slots:
        - schema_id
        - name

  UniqueKey:
    name: UniqueKey
    description: A table linking the name of each multi-component(slot) key to the schema class it appears in.
    unique_keys:
      uniquekey_key:
        description: A slot is uniquely identified by the schema it appears in as well as its name
        unique_key_slots:
        - schema_id
        - class_id
        - name

  Slot:
    name: Slot
    description: One or more slots contained in given schema. A slot can be used in one or more classes (templates).  A slot defines a visible column in a template, and can be a basic number, date, string, picklist (categorical or ordinal), or other single-field datatype.
    unique_keys:
      slot_key:
        description: A slot is uniquely identified by the schema it appears in as well as its name
        unique_key_slots:
        - schema_id
        - name

  SlotUsage:
    name: SlotUsage
    description: A list of each classes slots which can include ordering (rank) and attribute overrides.
    unique_keys:
      slotusage_key:
        description: A class is uniquely identified by the schema it appears in as well as its name.
        unique_key_slots:
        - schema_id
        - class_id
        - slot_id

  Enum:
    name: Enum
    description: One or more enumerations in given schema.  An enumeration can be used in the "range" or "any of" attribute of a slot.  Each enumeration has a flat list or hierarchy of permitted values.
    unique_keys:
      enum_key:
        description: An enumeration is uniquely identified by the schema it appears in as well as its name.
        unique_key_slots:
        - schema_id
        - name

  PermissibleValue:
    name: PermissibleValue
    description: An enumeration picklist value.
    unique_keys:
      permissiblevalue_key:
        description: An enumeration is uniquely identified by the schema it appears in as well as its name.
        unique_key_slots:
        - schema_id
        - name

  Container:
      tree_root: true
      attributes:
        Schemas:
          range: Schema
          multivalued: true
          inlined_as_list: true
        Prefixes:
          range: Prefix
          multivalued: true
          inlined_as_list: true
        Slots:
          range: Slot
          multivalued: true
          inlined_as_list: true
        Enums:
          range: Enum
          multivalued: true
          inlined_as_list: true
        PermissibleValues:
          range: PermissibleValue
          multivalued: true
          inlined_as_list: true
        Classes:
          range: Class
          multivalued: true
          inlined_as_list: true
        SlotUsages:
          range: SlotUsage
          multivalued: true
          inlined_as_list: true
        UniqueKeys:
          range: UniqueKey
          multivalued: true
          inlined_as_list: true        

slots: 
  schema_id:
    name: schema_id
    title: schema ID
    description: The unique URI for identifying the LinkML schema that this class, slot, enumeration or other LinkML element belongs to.
    required: true
    range: uri
    annotations:
      foreign_key:
        tag: foreign_key
        value: Schema.name

  class_id:
    name: class_id
    title: Class
    description: The class name that this table is linked to.
    required: true
    range: WhitespaceMinimizedString
    annotations:
      foreign_key:
        tag: foreign_key
        value: Class.name

  slot_id:
    name: slot_id
    title: Slot
    description: The class name that this table is linked to.
    required: true
    range: WhitespaceMinimizedString
    annotations:
      foreign_key:
        tag: foreign_key
        value: Slot.name

enums: 
types:
  WhitespaceMinimizedString:
    name: 'WhitespaceMinimizedString'
    typeof: string
    description: 'A string that has all whitespace trimmed off of beginning and end, and all internal whitespace segments reduced to single spaces. Whitespace includes #x9 (tab), #xA (linefeed), and #xD (carriage return).'
    base: str
    uri: xsd:token
  Provenance:
    name: 'Provenance'
    typeof: string
    description: 'A field containing a DataHarmonizer versioning marker. It is issued by DataHarmonizer when validation is applied to a given row of data.'
    base: str
    uri: xsd:token
settings:
  Title_Case: "(((?<=\\b)[^a-z\\W]\\w*?|[\\W])+)"
  UPPER_CASE: "[A-Z\\W\\d_]*"
  lower_case: "[a-z\\W\\d_]*"
